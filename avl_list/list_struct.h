#ifndef _LIST_STRUCT_H_
#define _LIST_STRUCT_H_

#include "os.h"

/**STRUCT+********************************************************************/
/* Structure: NBB_LQE                                                        */
/*                                                                           */
/* Description: List/Queue element.                                          */
/*****************************************************************************/

typedef struct nbb_lqe
{
  /***************************************************************************/
  /* Fields for use only within the N-BASE.                                  */
  /***************************************************************************/

  /***************************************************************************/
  /* Pointer to next LQE.                                                    */
  /***************************************************************************/
  struct nbb_lqe *next;

  /***************************************************************************/
  /* Pointer to previous LQE.                                                */
  /***************************************************************************/
  struct nbb_lqe *prev;

  /***************************************************************************/
  /* Self pointer which will point to the beginning of the structure which   */
  /* contains this LQE (to allow a control block to be in multiple lists.    */
  /***************************************************************************/
  NBB_VOID *self;

} NBB_LQE;

/**STRUCT-********************************************************************/

/**STRUCT+********************************************************************/
/* Structure: NBB_QE                                                         */
/*                                                                           */
/* Description: Queue element.                                               */
/*****************************************************************************/

typedef struct nbb_qe
{
  /***************************************************************************/
  /* Fields for use only within the N-BASE.                                  */
  /***************************************************************************/

  /***************************************************************************/
  /* Pointer to next queue element.  This structure does not have a self     */
  /* pointer so must be the first field in a control block.                  */
  /***************************************************************************/
  struct nbb_qe *next;

} NBB_QE;

/**STRUCT-********************************************************************/

/*****************************************************************************/
/* L3QE lists provide equivalent functionality to LLQE lists, with a lower   */
/* occupancy for the list root, but require the caller to supply an          */
/* additional parameter to some of the macros.                               */
/*                                                                           */
/* LLQE structures and macros are deprecated, but are retained for           */
/* back-compatibility.                                                       */
/*****************************************************************************/

/**STRUCT+********************************************************************/
/* Structure: NBB_L3QE                                                       */
/*                                                                           */
/* Description: Lite lite list element.                                      */
/*                                                                           */
/*****************************************************************************/

typedef struct nbb_l3qe
{
  /***************************************************************************/
  /* Pointer to next L3QE.                                                   */
  /***************************************************************************/
  struct nbb_l3qe *next;

  /***************************************************************************/
  /* Pointer to previous L3QE.                                               */
  /***************************************************************************/
  struct nbb_l3qe *prev;

} NBB_L3QE;

/**STRUCT-********************************************************************/

/**STRUCT+********************************************************************/
/* Structure: NBB_L3QE_ROOT                                                  */
/*                                                                           */
/* Description: Lite lite list root.                                         */
/*                                                                           */
/*****************************************************************************/

typedef struct nbb_l3qe_root
{
  /***************************************************************************/
  /* Root L3QE.                                                              */
  /***************************************************************************/
  NBB_L3QE l3qe;

} NBB_L3QE_ROOT;

/**STRUCT-********************************************************************/

/**STRUCT+********************************************************************/
/* Structure: NBB_LLQE                                                       */
/*                                                                           */
/* Description: Lite list element (deprecated).                              */
/*                                                                           */
/*****************************************************************************/

typedef struct nbb_l3qe NBB_LLQE;

/**STRUCT-********************************************************************/

/**STRUCT+********************************************************************/
/* Structure: NBB_LLQE_ROOT                                                  */
/*                                                                           */
/* Description: Lite list root (deprecated).                                 */
/*                                                                           */
/*****************************************************************************/

typedef struct nbb_llqe_root
{
  /***************************************************************************/
  /* L3QE root.                                                              */
  /***************************************************************************/
  NBB_L3QE_ROOT llqe;

  /***************************************************************************/
  /* Offset of NBB_LLQE structure in elements stored in this list.           */
  /***************************************************************************/
  NBB_BUF_SIZE llqe_offset;

} NBB_LLQE_ROOT;

/**STRUCT-********************************************************************/

/**STRUCT+********************************************************************/
/* Structure: NBB_Q_ROOT                                                     */
/*                                                                           */
/* Description: Queue root.                                                  */
/*****************************************************************************/

typedef struct nbb_q_root
{
  /***************************************************************************/
  /* Fields for use only within the N-BASE.                                  */
  /***************************************************************************/

  /***************************************************************************/
  /* Pointers to the first and last entries in a queue.                      */
  /***************************************************************************/
  struct nbb_qe *first;
  struct nbb_qe *last;
} NBB_Q_ROOT;

#endif
